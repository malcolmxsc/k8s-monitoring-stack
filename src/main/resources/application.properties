spring.application.name=observability-sandbox
# Expose actuator endpoints you need
management.endpoints.web.exposure.include=prometheus,health,metrics,info,mappings
# Enable health probes
management.endpoint.health.probes.enabled=true
# Turn on Prometheus export
management.prometheus.metrics.export.enabled=true
# Enable percentiles + histograms for HTTP server requests
management.metrics.distribution.percentiles.http.server.requests=0.5,0.9,0.95,0.99
management.metrics.distribution.percentiles-histogram.http.server.requests=true

# Define SLO buckets (nice for Grafana panels)
management.metrics.distribution.slo.http.server.requests=50ms,100ms,250ms,500ms,1s

# (Tracing - will point to Otel Collector)
# Use OTLP exporter to send traces to OpenTelemetry Collector


management.tracing.enabled=true
management.tracing.sampling.probability=1.0
logging.pattern.correlation=[%X{traceId:-},%X{spanId:-}]

management.otlp.tracing.endpoint=http://alloy:4318/v1/traces
otel.resource.attributes=service.name=observability-sandbox
management.tracing.exporters.logging.enabled=true

# NOTE: Do NOT store credentials in source control.
# Provide APP_USER and APP_PASSWORD as environment variables or via a Kubernetes Secret.
# Example (k8s): see k8s/secret-demo-credentials.yaml and the Deployment which reads these into
# APP_USER and APP_PASSWORD. Do NOT commit real passwords into this file.
spring.security.user.name=${APP_USER}
spring.security.user.password=${APP_PASSWORD}
spring.security.user.roles=USER
